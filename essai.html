<html>

<head>
    <meta charset="UTF-8"/>
    <style type="text/css">
        div {
		    color:white 
            border: solid blue 1px;
            display: inline-block;
            padding: 10px;
            margin: 10px;
            font-size: 1.3em;
        }
        .selected {
            color:green;
        }

    </style>

</head>


<script type="text/javascript">
      var letters = [{
         'author': '- Yoda',
         'quote': 'When 900 years old, you reach… Look as good, you will not.'
        }, {
         'author': '- Senator palpatine',
         'quote': 'The Dark Side of the Force is the pathway to many abilities some consider to be.. Unnatural.'
        }, {
         'author': '- Count Dooku',
         'quote': 'I sense great fear in you, Skywalker. You have hate… you have anger… but you don’t use them.'
        }, {
         'author': '- Darth vader',
         'quote': 'Luke, you can destroy the Emperor. He has foreseen this. It is your destiny. Join me, and together we can rule the galaxy as father and son.'
        }, {
          'author': '- Princess leila',
          'quote': 'Aren\'t you a little short for a storm trooper?'
        }, {
          'author': '- Yoda',
          'quote': 'Mmm. Lost a planet, Master Obi-Wan has. How embarrassing.'
        }, {
          'author': '- Qui-Gon Jinn',
          'quote': 'Your focus determines your reality'
        }, {
          'author': '- Yoda',
          'quote': 'Do. Or do not. There is no try.'
        }, {
          'author': '- Obi-Wan-Kenobi',
          'quote': 'In my experience there is no such thing as luck.'
        }, {
          'author': '- Yoda',
          'quote': 'If once you start down the dark side, forever will it dominate your destiney, consume you it will, as it did Obi-Wan\'s apprentice'
        }, {
          'author': '- Darth Vader',
          'quote': 'The Force is strong with this one.'
        }];
    </script>
<body>
    <script type="text/javascript" src="react/react.js"></script>
    <script type="text/javascript" src="react/JSXTransformer.js"></script>
	<p>Bienvenue dans le monde de Star Wars !</p>
	<img src="img.jpg"/>
	<p>Appuyez sur les personnages pour avoir leurs citations:</p>
    <div id="root"></div>
    <script type="text/jsx">
    var Tree =  React.createClass({

        render : function () {

            return (<div>

                <Letters onLetterSelected={this.selectLetter}/>

                <Score letter={this.state.letter}/>

            </div>);
        },
        getInitialState : function() {

            return{

                letter : ''

            }

        },
        selectLetter : function (newLetter) {

            return this.setState({letter : newLetter});

        }

    });
    var Letters = React.createClass({
        render : function () {

            var handler = this.props.onLetterSelected;
            return (<div>

                {letters.map(function(item) {

                    return <Letter itemValue={item} whenClick={handler} />;

                })}

            </div>);

        },
    });
    var Letter = React.createClass({
        render : function () {

            var classname = this.state.selected ? 'selected' : '';

            return (<div className={classname} onClick={this.handleClick}>{this.props.itemValue.author}</div>);

        },
        getInitialState : function () {

            return {selected : false };

        },
        handleClick : function () {

            this.props.whenClick(this.props.itemValue);

            this.setState({selected : true});

        }

    });
    var Score = React.createClass({
        render : function () {

            return (<div>

                la citation de {this.props.letter.author} est: {this.props.letter.quote} 

            </div>);

        },
    });
    React.render(<Tree />, document.getElementById("root"));	
    </script>
    </body>
	<body>
	<p>Insérez un personnage pour avoir une citation:</p>
	<div id="root2"></div>
	<script type="text/jsx">
	var ChaineAleatoire = function ChaineAleatoire(nbcaracteres)
    {
        var ListeAleatoire = new Array("a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9");

        var ChaineAleatoire ='';

        for(i = 0; i < nbcaracteres; i++)

        {

            ChaineAleatoire = ChaineAleatoire + ListeAleatoire[Math.floor(Math.random()*ListeAleatoire.length)];

        }

        return ChaineAleatoire;

    }    
	var Phrase = React.createClass({
        render : function () {
            var output = this.props.word ==='' ? '' : ('La chaine de caractère aléatoire de '+this.props.word+' est : '+ChaineAleatoire(10));
            return (<div>
                {output} 
            </div>);
        }
    });	
    var Tree2 =  React.createClass({
        render : function () {
            return (<div>
                <input value={this.state.newWord} onChange={this.updateWord}/>
                <Phrase word={this.state.newWord}/>
            </div>);
        },

        getInitialState : function() {
            return{
                newWord : ''
            }
        },

        updateWord : function (e) {
            this.setState({newWord :  e.target.value})
        }
    });
    React.render(<Tree2 />, document.getElementById('root2'));
	</script>
	</body>
	<body> 
	<img src="citation.jpg"/>
	<p>Appuyez sur les citations pour voir leur propriétaire:</p>
	<div id="root3"></div>
	<script type="text/jsx">
	var Tree3 =  React.createClass({

        render : function () {

            return (<div>

                <Letters3 onLetterSelected={this.selectLetter}/>

                <Score3 letter={this.state.letter}/>

            </div>);
        },
        getInitialState : function() {

            return{

                letter : ''

            }

        },
        selectLetter : function (newLetter) {

            return this.setState({letter : newLetter});

        }

    });
    var Letters3 = React.createClass({
        render : function () {

            var handler = this.props.onLetterSelected;
            return (<div>

                {letters.map(function(item) {

                    return <Letter3 itemValue={item} whenClick={handler} />;

                })}

            </div>);

        },
    });
    var Letter3 = React.createClass({
        render : function () {

            var classname3 = this.state.selected ? 'selected' : '';

            return (<div className={classname3} onClick={this.handleClick}>{this.props.itemValue.quote}</div>);

        },
        getInitialState : function () {

            return {selected : false };

        },
        handleClick : function () {

            this.props.whenClick(this.props.itemValue);

            this.setState({selected : true});

        }

    });
    var Score3 = React.createClass({
        render : function () {

            return (<div>

                la citation {this.props.letter.quote} est dite par {this.props.letter.author} .

            </div>);

        },
    });
    React.render(<Tree3 />, document.getElementById("root3"));	
    </script>
</body>

</html>